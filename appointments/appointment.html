<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aemao Klinic - Building a community of health and Nutrition</title>
    <link rel="stylesheet" href="../assets/css/appointment.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">
            <img src="../assets/images/Logo.png" alt="Aemao Klinic">
        </div>

        <!-- Apps Navigation -->
        <nav class="nav-section">
            <h2 class="nav-title">Apps</h2>
            <ul class="nav-items">
                <li><a href="#" class="nav-item active"><i class="fas fa-th-large"></i>Dashboard</a></li>
                <li><a href="#" class="nav-item"><i class="fas fa-heartbeat"></i>Health Tools</a></li>
                <li><a href="#" class="nav-item"><i class="far fa-calendar-alt"></i>Appointments</a></li>
                <li><a href="#" class="nav-item"><i class="far fa-envelope"></i>Messages</a></li>
                <li><a href="#" class="nav-item"><i class="fas fa-file-medical"></i>Health Records</a></li>
                <li><a href="#" class="nav-item"><i class="fas fa-book"></i>Educational Resources</a></li>
                <li><a href="#" class="nav-item"><i class="fas fa-credit-card"></i>Billing and Payments</a></li>
            </ul>
        </nav>

        <!-- Account Navigation -->
        <nav class="nav-section">
            <h2 class="nav-title">Account</h2>
            <ul class="nav-items">
                <li><a href="#" class="nav-item"><i class="fas fa-cog"></i>Settings</a></li>
                <li><a href="#" class="nav-item"><i class="fas fa-sign-out-alt"></i>Log Out</a></li>
                <li><a href="#" class="nav-item"><i class="far fa-user"></i>Profile</a></li>
            </ul>
        </nav>

        <!-- User Profile -->
        <div class="user-profile">
            <img src="../assets/images/profilepic.png" alt="Olafemi Andrew">
            <div class="user-info">
                <h3>Olafemi Andrew</h3>
                <p>Software Engineer</p>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="header">
            <div class="search-container">
                <i class="fas fa-search"></i>
                <input type="search" placeholder="Search Meal plans, appointment...">
            </div>
            <div class="header-right">
                <div class="notification">
                    <i class="far fa-bell"></i>
                </div>
                <div class="profile-image">
                    <img src="../assets/images/profilepic.png" alt="Profile">
                </div>
            </div>
        </header>

        <!-- ---------title-------- -->
        <h2 class="appointment-title">Appointments</h2>

        <!-- ----------------Main Container----------------- -->
        <!-- Add this after the appointment-title heading in main-content -->
        <div class="main-container">
            <!-- Left Section -->
            <div class="left-section">
                <!-- Urgent Appointment -->
                <div class="urgent-appointment">
                    <h3>Need Immediate Assistance?</h3>
                    <p>If you are experiencing a non-life threatening but urgent medical issue, use this service to book an appointment as soon as possible with available healthcare professionals.</p>
                    <button class="urgent-btn"><i class="fas fa-plus"></i>Book Urgent Appointment</button>

                </div>

                <!-- Top Rated Personnel -->
                <div class="top-rated">
                    <h3>Our Top Rated Personnel</h3>
                    <p>Book a call with our top-rated personnel. Do not wait beyond today before they check out their profile to see when they will be available for a consultation.</p>
                    
                    <div class="personnel-cards">
                        <div class="personnel-card">
                            <img src="../assets/images/doctor black.png" alt="Dr Drew Smith">
                            <div class="personnel-info">
                                <h4>Dietitian</h4>
                                <p>Dr Drew Smith</p>
                                <div class="rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                            </div>
                            <button class="book-btn"><i class="fas fa-plus"></i></button>
                        </div>

                        <div class="personnel-card">
                            <img src="../assets/images/doctor4.png" alt="Dr Mark Richard">
                            <div class="personnel-info">
                                <h4>Nutritionist</h4>
                                <p>Dr Mark Richard</p>
                                <div class="rating">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                </div>
                            </div>
                            <button class="book-btn"><i class="fas fa-plus"></i></button>
                        </div>
                    </div>
                </div>

                <!-- Activity Chart -->
                <div class="activity-chart">
                    <div class="activity-header">
                        <div class="menu">
                            <h3 style="color: var(--primary-color); margin-bottom: 7.5px;">Your Activity</h3>
                            <p style="color: grey; font-size: 14px;">Today, 5th october 2024</p>
                        </div>
                        <div class="date-filter">
                            <select id="timeRange">
                                <option value="daily">Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="chart" id="activityChart"></div>
                    </div>
                </div>
            </div>

            <!-- Right Section -->
            <div class="right-section">
                <!-- Calendar -->
                <div class="calendar-section">
                    <div class="calendar-header">
                        <div class="month-navigation">
                            <button class="prev-month"><i class="fas fa-chevron-left"></i></button>
                            <h3 id="currentMonth">September 2024</h3>
                            <button class="next-month"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                    <div class="calendar" id="calendar"></div>
                    <button class="add-appointment-btn">
                        <i class="fas fa-plus"></i>
                        Add new appointment
                    </button>
                </div>

                <!-- Upcoming Appointments -->
                <div class="upcoming-appointments">
                    <div class="upcoming-header">
                        <h3>Upcoming Appointments</h3>
                        <a href="#" class="see-all">See all</a>
                    </div>
                    <div class="appointments-list">
                        <!-- Appointments will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Sidebar Toggle Button (for mobile) -->
        <button class="sidebar-toggle" id="sidebarToggle">
            <i class="fas fa-bars"></i>
        </button>

        
    </main>

    <script src="./script.js"></script>
    <script>
        // Sidebar Toggle
        const sidebarToggle = document.getElementById('sidebarToggle');
        const sidebar = document.querySelector('.sidebar');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('active');
        });

        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768 && 
                !sidebar.contains(e.target) && 
                !sidebarToggle.contains(e.target)) {
                sidebar.classList.remove('active');
            }
        });

        // Calendar Functionality
        const calendar = document.getElementById('calendar');
        const currentMonthElement = document.getElementById('currentMonth');
        const prevMonthBtn = document.querySelector('.prev-month');
        const nextMonthBtn = document.querySelector('.next-month');

        let currentDate = new Date();

        function renderCalendar() {
            const firstDay = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);
            const lastDay = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0);
            const monthNames = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 
                            'August', 'September', 'October', 'November', 'December'];

            currentMonthElement.textContent = `${monthNames[currentDate.getMonth()]} ${currentDate.getFullYear()}`;

            // Clear calendar
            calendar.innerHTML = '';

            // Add day headers
            ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'].forEach(day => {
                const dayHeader = document.createElement('div');
                dayHeader.className = 'day-header';
                dayHeader.textContent = day;
                calendar.appendChild(dayHeader);
            });

            // Add empty cells for days before first day of month
            let firstDayIndex = firstDay.getDay() || 7;
            for (let i = 1; i < firstDayIndex; i++) {
                calendar.appendChild(document.createElement('div'));
            }

            // Add days
            for (let day = 1; day <= lastDay.getDate(); day++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'day';
                dayElement.textContent = day;

                if (day === new Date().getDate() && 
                    currentDate.getMonth() === new Date().getMonth() && 
                    currentDate.getFullYear() === new Date().getFullYear()) {
                    dayElement.classList.add('active');
                }

                calendar.appendChild(dayElement);
            }
        }

        prevMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar();
        });

        nextMonthBtn.addEventListener('click', () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar();
        });

        // Activity Chart Data
        const activityData = {
            daily: [75, 85, 65, 90, 70, 60, 80],
            weekly: [70, 75, 80, 65, 85, 90, 75],
            monthly: [80, 70, 75, 85, 90, 65, 70]
        };

        function updateActivityChart(timeRange) {
            const chartContainer = document.getElementById('activityChart');
            const data = activityData[timeRange];
            
            // Clear previous chart
            chartContainer.innerHTML = '';
            
            // Create bars
            data.forEach((value, index) => {
                const bar = document.createElement('div');
                bar.className = 'activity-bar';
                bar.style.height = `${value}%`;
                chartContainer.appendChild(bar);
            });
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            renderCalendar();
            updateActivityChart('daily');
        });

        // Time range selector
        document.getElementById('timeRange').addEventListener('change', (e) => {
            updateActivityChart(e.target.value);
        });
    </script>
</body>
</html>